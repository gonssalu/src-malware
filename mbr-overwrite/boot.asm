; nasm -f bin test.asm -o test.bin

BITS 16
ORG     0x7c00                  
; Set Video Mode to 320x200, 256 colors

jmp start

video_mode:
    mov ah, 0x00
    mov al, 0x13
    int 0x10
    ret
start:
        mov ax,cs
        mov ds,ax
        call video_mode
        mov si,msg          
        call print

print:
        push ax
        cld
next:
        mov al,[si]
        cmp al,0            
        je done             
        call printchar
        inc si              
        jmp next            
done:
        ; hide cursor
        mov ah, 0x00
        int 0x16
        jmp done           

printchar:
        ; green text, black bg
        mov bl, 0x0a
        mov ah, 0x0e
        mov al, [si]

        ; Call interrupt 0x10 with AH=0x09 and BX containing character and color information
        int 0x10
        ret

msg:            db        "Linha 1 ",13,10,"Linha 2 ",13,10,"Linha 3 ", 0

times 510 - ($-$$) db 0
dw        0xaa55