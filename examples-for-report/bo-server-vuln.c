#include <arpa/inet.h>
#include <ctype.h>
#include <netdb.h>
#include <signal.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/socket.h>
#include <sys/types.h>
#include <time.h>
#include <unistd.h>

void main(char *domain) {
  char *command =
      malloc(sizeof(char) * 254);  // NOTE: ERROR ON PURPOUSE; CORRECT 294
  uint8_t *validDomain = malloc(sizeof(uint8_t) * 1);
  (*validDomain) = 1;

  // Check if the domain is valid
  for (size_t i = 0; i < strlen(domain); i++) {
    if (!isalnum(domain[i]) && domain[i] != '.' && domain[i] != '-') {
      (*validDomain) = 0;
    }
  }
  sprintf(command, "dig @1.1.1.1 +short +timeout=5 +retry=0 %s", domain);

  if ((*validDomain) == 0) {
    // Domain is invalid, cancel execution
  }
}